<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <h:head>      
    </h:head>
    <h:body>
        <ui:composition template="Template.xhtml">
            <ui:define name="title">#{msg.OrganizerUser}</ui:define>
            <ui:define name="content">                               
                <p:fieldset legend="#{msg.OrganizerUser}">
                    <h:form id="organizerUserSearchForm">
                        <p:focus context=":organizerUserSearchForm:organizerDetails"/>  
                        <p:messages closable="true" id="message"/>
                        <p:panelGrid columns="2" id="organizerDetails">
                            <p:outputLabel value="#{msg.FirstName}"  />
                            <p:inputText id="firstName" value="#{organizerUserListBean.selectedOrganizerUserDTO.firstName}" title="#{msg.FirstName}" label="#{msg.FirstName}"/>
                            <p:outputLabel value="#{msg.LastName}"/>
                            <p:inputText id="lastName" value="#{organizerUserListBean.selectedOrganizerUserDTO.lastName}" title="#{msg.LastName}" label="#{msg.LastName}" />
                            <p:outputLabel value="#{msg.UserType}" />
                            <p:selectOneMenu id="userType" value="#{organizerUserListBean.selectedOrganizerUserDTO.userTypeId}" label="#{msg.UserType}" >
                                <f:selectItem itemLabel="--SELECT--" itemValue=""></f:selectItem>
                                <f:selectItems value="#{organizerUserListBean.userTypeDTOList}" var="userType" itemLabel="#{userType.userTypeName}" itemValue="#{userType.userTypeId}"/>
                            </p:selectOneMenu>                            
                        </p:panelGrid>
                        <br/>
                        <p:commandButton value="#{msg.Search}" action="#{organizerUserListBean.searchOrganizerUser()}" update=":organizerUserSearchForm"  />                        
                        &nbsp;&nbsp;&nbsp;
                        <p:commandButton value="#{msg.AddUser}"  icon="ui-icon-plus" ajax="false" action="#{organizerUserListBean.addOrganizerUser()}" />                        
                        &nbsp;&nbsp;&nbsp;
                        <p:commandButton value="#{msg.reset}" action="#{organizerUserListBean.resetOrganizerUser()}" update=":organizerUserSearchForm" immediate="true">
                            <p:resetInput target=":organizerUserSearchForm:organizerDetails" />
                        </p:commandButton>
                        <br/>
                        <br/>
                        <p:dataTable id ="userList" value="#{organizerUserListBean.userList}" var="organizerUser" rowKey="#{organizerUser.userId}" style="text-align: center;" paginator="true" rows="25">
                            <p:column headerText="#{msg.Email}">
                                <h:outputText value="#{organizerUser.emailAddress}"  />
                            </p:column>

                            <p:column headerText="#{msg.FirstName}">
                                <h:outputText value="#{organizerUser.firstName}"  />
                            </p:column>

                            <p:column headerText="#{msg.LastName}">
                                <h:outputText value="#{organizerUser.lastName}"  />
                            </p:column>

                            <p:column headerText="#{msg.UserType}">
                                <h:outputText value="#{organizerUser.userTypeName}"  />
                            </p:column>

                            <p:column headerText="#{msg.edit}">
                                <p:commandButton update=":organizerUserSearchForm" icon="ui-icon-pencil" title="Edit" immediate="true"  process="@this"  action="#{organizerUserListBean.editOrganizerUser(organizerUser)}">                                    
                                </p:commandButton>                                
                            </p:column>
                            <p:column headerText="#{msg.delete}">
                                <p:commandButton update=":organizerUserSearchForm" icon="ui-icon-trash" title="Delete" immediate="true"  process="@this" actionListener="#{organizerUserListBean.deleteOrganizerUser(organizerUser)}">                                    
                                    <p:confirm header="Confirmation" message="Are you sure,you want to delete the user?" icon="ui-icon-alert" />                                    
                                </p:commandButton>                                
                            </p:column>                         
                        </p:dataTable>
                        <p:confirmDialog showEffect="fade" global="true" severity="alert">
                            <p:commandButton value="Yes" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                            <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
                        </p:confirmDialog>
                    </h:form>               
                </p:fieldset>
            </ui:define>
        </ui:composition>
    </h:body>
</html>
